{% extends "accounts/base.html" %}

{% block title %} Authentification | Password Confirm {% endblock title %}

{% block content %}

<form class="login100-form validate-form" method="POST">
    {% csrf_token %}
    
    <span class="login100-form-title">
        Définir un nouveau mot de passe
    </span>

    <!-- Affichage des erreurs -->
    {% if form.non_field_errors %}
    <div class="alert alert-danger" style="color: red; padding: 10px; margin-bottom: 20px; border-radius: 5px;">
        {% for error in form.non_field_errors %}
            <i class="fa fa-exclamation-circle"></i> {{ error }}
        {% endfor %}
    </div>
    {% endif %}

    <!-- Nouveau mot de passe -->
    <div class="wrap-input100 validate-input" data-validate="Un mot de passe est requis">
        <input class="input100" 
               type="password" 
               name="new_password1" 
               placeholder="Nouveau mot de passe"
               required
               id="id_new_password1">
        <span class="focus-input100"></span>
        <span class="symbol-input100">
            <i class="fa fa-lock"></i>
        </span>
    </div>
    {% if form.new_password1.errors %}
    <div style="color: red; margin: -15px 0 15px 20px; font-size: 12px;">
        {% for error in form.new_password1.errors %}
        <i class="fa fa-exclamation-circle"></i> {{ error }}
        {% endfor %}
    </div>
    {% endif %}

    <!-- Confirmation -->
    <div class="wrap-input100 validate-input" data-validate="Les mots de passe doivent correspondre">
        <input class="input100" 
               type="password" 
               name="new_password2" 
               placeholder="Confirmez le mot de passe"
               required
               id="id_new_password2">
        <span class="focus-input100"></span>
        <span class="symbol-input100">
            <i class="fa fa-lock"></i>
        </span>
    </div>
    {% if form.new_password2.errors %}
    <div style="color: red; margin: -15px 0 25px 20px; font-size: 12px;">
        {% for error in form.new_password2.errors %}
        <i class="fa fa-exclamation-circle"></i> {{ error }}
        {% endfor %}
    </div>
    {% endif %}

    <div class="container-login100-form-btn">
        <button class="login100-form-btn" type="submit">
            Valider
        </button>
    </div>

    <div class="text-center p-t-12">
        <a class="txt2" href="{% url 'login' %}">
            <i class="fa fa-arrow-left"></i> Retour à la connexion
        </a>
    </div>
</form>

{% endblock content %}