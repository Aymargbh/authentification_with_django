{% extends "accounts/base.html" %}
{% load widget_tweaks %}

{% block title %}Authentification | Signup{% endblock title %}

{% block content %}
<form class="login100-form validate-form" method="POST" novalidate>
    {% csrf_token %}
    
    <span class="login100-form-title">
        Créer un compte
    </span>

    <!-- Affichage des erreurs générales -->
    {% if form.non_field_errors %}
    <div class="alert alert-danger" style="color: red; padding: 10px; margin-bottom: 20px; border-radius: 5px;">
        {% for error in form.non_field_errors %}
            <i class="fa fa-exclamation-circle"></i> {{ error }}
        {% endfor %}
    </div>
    {% endif %}

    <!-- Champ Username -->
    <div class="wrap-input100 validate-input" data-validate="Un nom d'utilisateur est requis">
        {{ form.username|add_class:"input100" }}
        <span class="focus-input100"></span>
        <span class="symbol-input100">
            <i class="fa fa-user"></i>
        </span>
    </div>
    {% if form.username.errors %}
    <div style="color: red; margin: 0 0 20px 20px; font-size: 12px;">
        {% for error in form.username.errors %}
        <i class="fa fa-exclamation-circle"></i> {{ error }}
        {% endfor %}
    </div>
    {% endif %}

    <!-- Champ Email -->
    <div class="wrap-input100 validate-input" data-validate="Un email valide est requis: ex@abc.xyz">
        {{ form.email|add_class:"input100" }}
        <span class="focus-input100"></span>
        <span class="symbol-input100">
            <i class="fa fa-envelope"></i>
        </span>
    </div>
    {% if form.email.errors %}
    <div style="color: red; margin: 0 0 20px 20px; font-size: 12px;">
        {% for error in form.email.errors %}
        <i class="fa fa-exclamation-circle"></i> {{ error }}
        {% endfor %}
    </div>
    {% endif %}

    <!-- Champ Password1 -->
    <div class="wrap-input100 validate-input" data-validate="Un mot de passe est requis">
        {{ form.password1|add_class:"input100" }}
        <span class="focus-input100"></span>
        <span class="symbol-input100">
            <i class="fa fa-lock"></i>
        </span>
    </div>
    {% if form.password1.errors %}
    <div style="color: red; margin: 0 0 20px 20px; font-size: 12px;">
        {% for error in form.password1.errors %}
        <i class="fa fa-exclamation-circle"></i> {{ error }}
        {% endfor %}
    </div>
    {% endif %}

    <!-- Champ Password2 -->
    <div class="wrap-input100 validate-input" data-validate="Les mots de passe doivent correspondre">
        {{ form.password2|add_class:"input100" }}
        <span class="focus-input100"></span>
        <span class="symbol-input100">
            <i class="fa fa-lock"></i>
        </span>
    </div>
    {% if form.password2.errors %}
    <div style="color: red; margin: 0 0 20px 20px; font-size: 12px;">
        {% for error in form.password2.errors %}
        <i class="fa fa-exclamation-circle"></i> {{ error }}
        {% endfor %}
    </div>
    {% endif %}

    <div class="container-login100-form-btn">
        <button class="login100-form-btn" type="submit">
            S'inscrire
        </button>
    </div>

    <div class="text-center p-t-12">
        <span class="txt1">
            Déjà un compte ?
        </span>
        <a class="txt2" href="{% url 'login' %}">
            Se connecter
        </a>
    </div>
</form>

{% endblock content %}